---
import Layout from "../layouts/Layout.astro";

const { request } = Astro;
const url = new URL(request.url);
const errorMessage = url.searchParams.get('message');
console.log(errorMessage);
---

<Layout title="Registrarse">
  {errorMessage && <script>alert('Ha ocurrido un error');</script>}
  <h1>Registrarse</h1>
  <p>¿Ya tienes una cuenta? <a href="/signin">Iniciar sesión</a></p>
  <form action="/api/register" method="post">
    <label for="email">Correo electrónico</label>
    <input type="email" name="email" id="email" />
    <label for="password">Contraseña</label>
    <input type="password" name="password" id="password" />
    <button type="submit">Registrarse</button>
  </form>
</Layout>
<style>
	@import '../styles/auth.css';
</style>